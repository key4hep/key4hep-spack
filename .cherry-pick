git remote add jmcarcell https://github.com/jmcarcell/spack || true
git fetch jmcarcell -q

# Hardcode CMAKE_INSTALL_LIBDIR to lib. This is needed for AlmaLinux 9 where
# CMAKE_INSTALL_LIBDIR gets chosen as lib64 and this causes problems in some
# packages that expect lib. Since spack installs each package to its own prefix
# we don't need to worry about multilib environments
# It doesn't seem to do anything at the moment
# git cherry-pick dcedd688a077ba5399b1a77275364b8164eab41f -X theirs --no-commit

# Because the patch above and py-onnx being a python package, it will try to find
# protobuf in CMAKE_INSTALL_LIBDIR which is lib64 so a symlink is created here
git cherry-pick 3ec184fad8582cc501f55e0ea0b0f6b3fb9b70bf -X theirs --no-commit

# add vdt for CPATH, needed for podio+rntuple
git cherry-pick f97fabc3ff12527e5220ea6917719a73f8bd4315 -X theirs --no-commit

# acts: add patch to find python before DD4hep
git cherry-pick d8bb37270ee2f84bbaa6432cf1aa3dbea421ec9d -X theirs --no-commit

# root: set runtime_cxxmodules to True, remove when https://github.com/spack/spack-packages/pull/109 is merged
git cherry-pick 75e923133f6fd458d7c2d0ab5636b0a692cf77e1 -X theirs --no-commit

# ghostscript: fixes for missing DSO symbol and add X libraries, remove when https://github.com/spack/spack-packages/pull/108 is merged
git cherry-pick 73078e8832bd82347e4020513a7c30cffbf3589f -X theirs --no-commit

# Add build dependencies for several packages, remove when https://github.com/spack/spack-packages/pull/107 is merged
git cherry-pick 46856def51b9c57a4a6a6731ec5ae68999798824 -X theirs --no-commit

# py_ruff and py_rpds_py: add a dependency on C for builds on Alma 9, remove when https://github.com/spack/spack-packages/pull/106 is merged
git cherry-pick 32e44d69f8113e3e0ff55cdb22b057a64cf70259 -X theirs --no-commit

# madgraph5amc: add changes to install models, remove when https://github.com/spack/spack-packages/pull/110 is merged
git cherry-pick f6291de4735216f0361a0c78e98d9391de5d8230 -X theirs --no-commit

