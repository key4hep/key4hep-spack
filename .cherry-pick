git remote add jmcarcell https://github.com/jmcarcell/spack || true
git fetch jmcarcell -q

# Hardcode CMAKE_INSTALL_LIBDIR to lib. This is needed for AlmaLinux 9 where
# CMAKE_INSTALL_LIBDIR gets chosen as lib64 and this causes problems in some
# packages that expect lib. Since spack installs each package to its own prefix
# we don't need to worry about multilib environments
git cherry-pick dcedd688a077ba5399b1a77275364b8164eab41f -X theirs --no-commit

# Because the patch above and py-onnx being a python package, it will try to find
# protobuf in CMAKE_INSTALL_LIBDIR which is lib64 so a symlink is created here
git cherry-pick 3ec184fad8582cc501f55e0ea0b0f6b3fb9b70bf -X theirs --no-commit

# add vdt for CPATH, needed for podio+rntuple
git cherry-pick f97fabc3ff12527e5220ea6917719a73f8bd4315 -X theirs --no-commit

# acts: add patch to find python before DD4hep
git cherry-pick d8bb37270ee2f84bbaa6432cf1aa3dbea421ec9d -X theirs --no-commit

# root: set runtime_cxxmodules to True, remove when https://github.com/spack/spack/pull/50432 is merged
git cherry-pick 248217db40db2c437902487c562404ecb484403c -X theirs --no-commit

# ghostscript: fixes for missing DSO symbol and add X libraries, remove when https://github.com/spack/spack/pull/50736 is merged
git cherry-pick 73078e8832bd82347e4020513a7c30cffbf3589f -X theirs --no-commit

# Add build dependencies for several packages, remove when https://github.com/spack/spack/pull/50742 is merged
git cherry-pick 09ffe2a7367e4f8108118cf8be89e6f0f1a6ed74 -X theirs --no-commit
